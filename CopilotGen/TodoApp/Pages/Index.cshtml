@page
@model IndexModel
@{
    ViewData["Title"] = "Todo List";
}

<h1>Todo List</h1>

<form method="post" class="mb-3">
    <input type="text" name="NewItemTitle" value="" placeholder="Add a new todo..." required />
    <button type="submit" asp-page-handler="Add">Add</button>
</form>

<ul class="todo-list">
@for (int i = 0; i < Model.TodoItems.Count; i++)
{
    var item = Model.TodoItems[i];
    ViewData["Index"] = i;
    @await Html.PartialAsync("_TodoItemPartial", item, ViewData)
}
</ul>
